# -*- coding: utf-8 -*-
"""
Spyder Editor

This is a temporary script file.
"""

from flask import Flask, request, jsonify, render_template
import pickle
import pandas as pd
import numpy as np

model = pickle.load(open('DIDUNAS_predictive_model202303.pkl','rb'))


app=Flask(__name__,template_folder='template')

@app.route('/')
def home():
    return render_template('page.htm')

@app.route('/predict', methods=['POST'])

def predict():
    features_list = []
    features_list.append(request.form.get("nr0"))
    features_list.append(request.form.get("nr1"))
    features_list.append(request.form.get("nr2"))
    features_list.append(request.form.get("nr3"))
    features_list.append(request.form.get("nr4"))
    features_list.append(request.form.get("nr5"))
    features_list.append(request.form.get("nr6"))
    features_list.append(request.form.get("nr7"))
    features_list.append(request.form.get("nr8"))
    features_list.append(request.form.get("nr9"))
    
    features = np.array(features_list).reshape([1,10])
    predict_outcome = model.predict(features)

    if predict_outcome>0:
        RMD='T'
    else:
        RMD='F'
    return render_template('page.htm',prediction_display_area='RMDï¼š{}'.format(RMD))
    
    
if __name__ == "__main__":
    app.run(port=80,debug = True)
